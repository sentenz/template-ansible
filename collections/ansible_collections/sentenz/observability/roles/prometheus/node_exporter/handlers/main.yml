# SPDX-License-Identifier: Apache-2.0
---
- name: Node Exporter - Restart Docker Compose
  listen: prometheus_restart
  community.docker.docker_compose_v2:
    project_src: "{{ prometheus_node_exporter_path }}"
    files:
      - docker-compose.yml
    state: restarted

- name: Node Exporter - Stop Docker Compose
  listen: prometheus_stop
  community.docker.docker_compose_v2:
    project_src: "{{ prometheus_node_exporter_path }}"
    files:
      - docker-compose.yml
    state: stopped

- name: Node Exporter - Remove Docker Compose
  listen: prometheus_absent
  community.docker.docker_compose_v2:
    project_src: "{{ prometheus_node_exporter_path }}"
    files:
      - docker-compose.yml
    state: absent
