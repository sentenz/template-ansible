# SPDX-License-Identifier: Apache-2.0
---
- name: Grafana - Restart Docker Compose
  community.docker.docker_compose_v2:
    project_src: "{{ grafana_path }}"
    files:
      - docker-compose.yml
    state: restarted
  when: grafana_handler_restart | default(false)

- name: Grafana - Stop Docker Compose
  community.docker.docker_compose_v2:
    project_src: "{{ grafana_path }}"
    files:
      - docker-compose.yml
    state: stopped
  when: grafana_handler_stop | default(false)
  run_once: true

- name: Grafana - Remove Docker Compose
  community.docker.docker_compose_v2:
    project_src: "{{ grafana_path }}"
    files:
      - docker-compose.yml
    state: absent
  when: grafana_handler_absent | default(false)
  run_once: true
